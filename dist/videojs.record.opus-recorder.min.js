/*! videojs-record v1.6.1
* https://github.com/collab-project/videojs-record
* Copyright (c) 2014-2017 - Licensed MIT */

!function(a,b){"function"==typeof define&&define.amd?define(["videojs"],b):"object"==typeof module&&module.exports?module.exports=b(require("video.js")):a.returnExports=b(a.videojs)}(this,function(a){a.OpusRecorderEngine=a.extend(a.RecordBase,{setup:function(a,b,c){this.inputStream=a,this.mediaType=b,this.debug=c,this.engine=new Recorder({leaveStreamOpen:!0,numberOfChannels:this.audioChannels,bufferLength:this.bufferSize,encoderSampleRate:this.sampleRate,encoderPath:this.audioWorkerURL}),this.engine.addEventListener("dataAvailable",this.onRecordingAvailable.bind(this)),this.engine.stream=a,this.engine.sourceNode=this.engine.audioContext.createMediaStreamSource(a),this.engine.sourceNode.connect(this.engine.filterNode||this.engine.scriptProcessorNode),this.engine.sourceNode.connect(this.engine.monitorNode),this.engine.eventTarget.dispatchEvent(new Event("streamReady"))},start:function(){this.engine.start()},stop:function(){this.engine.stop()},pause:function(){this.engine.pause()},resume:function(){this.engine.resume()},onRecordingAvailable:function(a){var b=new Blob([a.detail],{type:"audio/ogg"});this.onStopRecording(b)}})});